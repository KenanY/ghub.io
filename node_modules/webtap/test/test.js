var exec = require('child_process').exec;
var test = require('tap').test;
var fs = require('fs');

var output = fs.readFileSync(__dirname + '/fixtures/output.txt').toString();

test('output', function (t) {
  exec('node ' + __dirname + '/fixtures/test.js', function (err, stdout, stderr) {
    t.notOk(err, 'no exec error');
    t.equal(stdout, output, 'tap on stdout');
    t.equal(stderr, '', 'empty stderr');
    t.end();
  });
});
